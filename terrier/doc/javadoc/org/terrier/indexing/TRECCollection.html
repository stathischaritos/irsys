<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Thu Jun 16 17:22:45 BST 2011 -->
<TITLE>
TRECCollection (Terrier 3.5 API)
</TITLE>

<META NAME="date" CONTENT="2011-06-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TRECCollection (Terrier 3.5 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TRECCollection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/terrier/indexing/Tokenizer.html" title="interface in org.terrier.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/terrier/indexing/TRECDocument.html" title="class in org.terrier.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/terrier/indexing/TRECCollection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TRECCollection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.terrier.indexing</FONT>
<BR>
Class TRECCollection</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.terrier.indexing.TRECCollection</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Closeable, <A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A>, <A HREF="../../../org/terrier/indexing/DocumentExtractor.html" title="interface in org.terrier.indexing">DocumentExtractor</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../org/terrier/indexing/TRECUTFCollection.html" title="class in org.terrier.indexing">TRECUTFCollection</A>, <A HREF="../../../org/terrier/indexing/TRECWebCollection.html" title="class in org.terrier.indexing">TRECWebCollection</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>TRECCollection</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A>, <A HREF="../../../org/terrier/indexing/DocumentExtractor.html" title="interface in org.terrier.indexing">DocumentExtractor</A></DL>
</PRE>

<P>
Models a TREC test collection by implementing the interfaces
 Collection and DocumentExtractor. It provides sequential access
 to the documents in the collection and also it can return the text
 of a document as a String. The precise <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing"><CODE>Document</CODE></A> class to be
 used can be specified with the <tt>trec.document.class</tt> property.
 
 TREC format files are opened using the default encoding unless the
 <tt>trec.encoding</tt> has been set to a valid supported encoding.
 
 Since 3.5, the contents of tags can be added to the meta index instead of being indexed normally. This is useful
 to hold URLs or dates that you need to later during retrieval. To use this, the fields in the TREC file
 need to be ordered and the tags to add need to be specified in <tt>TrecDocTags.propertytags</tt> and <tt>indexer.meta.forward.keys</tt>
 and the maximum length of the tags given in <tt>indexer.meta.forward.keylens</tt>.
 
 <p><b>Properties</b>:
 <ul> You also need to 
 add the keys to indexer.meta.forward.keys and give them lengths (indexer.meta.forward.keylens)
 <li><tt>trec.document.class</tt> the <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing"><CODE>Document</CODE></A> class to parse individual documents (defaults to <A HREF="../../../org/terrier/indexing/TaggedDocument.html" title="class in org.terrier.indexing"><CODE>TaggedDocument</CODE></A>).</li> 
 <li><tt>trec.encoding</tt> - encoding to use to open all files. Leave unset for System default encoding.</li>
 <li><tt>(tagset).propertytags</tt> - list of tags to add to the meta index rather than to index. Tags are assumed to be IN ORDER after the docid.</li>
 <li><tt>indexer.meta.forward.keys</tt> - list of keys to add to the meta index, remember to put any property tags here as well.</li>
 <li><tt>indexer.meta.forward.keylens</tt> - lengths of each of the the meta keys, remember to put the lengths of the property tags here as well.</li>
 </ul>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Craig Macdonald &amp; Vassilis Plachouras &amp; Richard McCreadie</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../org/terrier/utility/io/CountingInputStream.html" title="class in org.terrier.utility.io">CountingInputStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#br">br</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The inputstream used for reading data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#currentFilename">currentFilename</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filename of current file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#desiredEncoding">desiredEncoding</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Encoding to be used to open all files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.HashSet&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#DocIDBlacklist">DocIDBlacklist</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#docnotag">docnotag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The docno tag</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#DocProperties">DocProperties</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties for the current document</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Class&lt;? extends <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#documentClass">documentClass</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#documentCounter">documentCounter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Counts the documents that are found in the collection, ignoring those
 documents that appear in the black list</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#documentsInThisFile">documentsInThisFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Counts the number of documents that have been found in this file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#end_docnoTag">end_docnoTag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The closing document number tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#end_docnoTagLength">end_docnoTagLength</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The length of the closing document number tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#end_docTag">end_docTag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The closing document tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#end_docTagLength">end_docTagLength</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The length of the closing document tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#endOfCollection">endOfCollection</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates whether the end of the collection has been reached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#endPropertyTags">endPropertyTags</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The end property tag</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#FileNumber">FileNumber</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The index in the FilesToProcess of the currently processed file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#FilesToProcess">FilesToProcess</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of files to process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#ignoreProperties">ignoreProperties</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do we ignore properties?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;org.apache.log4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger for this class</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#propertyTagLengths">propertyTagLengths</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The length of each property tag</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#SkipFile">SkipFile</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A boolean which is true when a new file is open.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#start_docnoTag">start_docnoTag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The opening document number tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#start_docnoTagLength">start_docnoTagLength</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The length of the opening document number tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#start_docTag">start_docTag</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The opening document tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#start_docTagLength">start_docTagLength</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The length of the opening document tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;char[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#startPropertyTags">startPropertyTags</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The start property tags</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#tags_CaseSensitive">tags_CaseSensitive</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Is the markup case-sensitive?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#ThisDocID">ThisDocID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The string identifier of the current document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../org/terrier/indexing/tokenisation/Tokeniser.html" title="class in org.terrier.indexing.tokenisation">Tokeniser</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#tokeniser">tokeniser</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#TRECCollection()">TRECCollection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A default constructor that reads the collection specification
 file, as configured by the property <tt>collection.spec</tt>,
 reads a list of blacklisted document numbers, specified by the
 property <tt>trec.blacklist.docids</tt> and opens the
 first collection file to process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#TRECCollection(java.io.InputStream)">TRECCollection</A></B>(java.io.InputStream&nbsp;input)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A constructor that reads only the document in the specificed
 InputStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#TRECCollection(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">TRECCollection</A></B>(java.lang.String&nbsp;CollectionSpecFilename,
               java.lang.String&nbsp;TagSet,
               java.lang.String&nbsp;BlacklistSpecFilename,
               java.lang.String&nbsp;ignored)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specific constructor: reads the files listed in CollectionSpecFilename,
  the Blacklist of Document IDs in BlacklistSpecFilename, and stores document
  offsets and lengths in the document pointers file docPointersFilename.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#afterPropertyTags()">afterPropertyTags</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes the files and streams used by the collection object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#endOfCollection()">endOfCollection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates whether the end of the collection has been reached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#getDocid()">getDocid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the document number of the current document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#getDocument()">getDocument</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current document to process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#getDocument(org.terrier.utility.TagSet, org.terrier.utility.TagSet, org.terrier.utility.TagSet)">getDocument</A></B>(<A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_tags,
            <A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_exact,
            <A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_fields)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#getDocumentString(int)">getDocumentString</A></B>(int&nbsp;docid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.StringBuilder</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#getTag(int, char[], char[])">getTag</A></B>(int&nbsp;taglength,
       char[]&nbsp;startTag,
       char[]&nbsp;endTag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scans through a document reading in the first occurrence of the specified tag,
 returning its contents as a StringBuilder object</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#hasNext()">hasNext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check whether it is the end of the collection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#loadDocumentClass()">loadDocumentClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads the class that will supply all documents for this Collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#next()">next</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return next document</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#nextDocument()">nextDocument</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Moves to the next document to process from the collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#openNextFile()">openNextFile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens the next document from the collection specification.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#readCollectionSpec(java.lang.String)">readCollectionSpec</A></B>(java.lang.String&nbsp;CollectionSpecFilename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#readDocumentBlacklist(java.lang.String)">readDocumentBlacklist</A></B>(java.lang.String&nbsp;BlacklistSpecFilename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#remove()">remove</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is unsupported by this Collection implementation, and
 any calls will throw UnsupportedOperationException
 Throws UnsupportedOperationException on all invocations</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resets the collection object back to the beginning
 of the collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/terrier/indexing/TRECCollection.html#setTags(java.lang.String)">setTags</A></B>(java.lang.String&nbsp;TagSet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected method for initialising the
 opening and closing document and document number
 tags.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
protected static final org.apache.log4j.Logger <B>logger</B></PRE>
<DL>
<DD>logger for this class
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentFilename"><!-- --></A><H3>
currentFilename</H3>
<PRE>
protected java.lang.String <B>currentFilename</B></PRE>
<DL>
<DD>Filename of current file
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="documentsInThisFile"><!-- --></A><H3>
documentsInThisFile</H3>
<PRE>
protected int <B>documentsInThisFile</B></PRE>
<DL>
<DD>Counts the number of documents that have been found in this file.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="DocProperties"><!-- --></A><H3>
DocProperties</H3>
<PRE>
protected java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>DocProperties</B></PRE>
<DL>
<DD>properties for the current document
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="documentCounter"><!-- --></A><H3>
documentCounter</H3>
<PRE>
protected int <B>documentCounter</B></PRE>
<DL>
<DD>Counts the documents that are found in the collection, ignoring those
 documents that appear in the black list
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="DocIDBlacklist"><!-- --></A><H3>
DocIDBlacklist</H3>
<PRE>
protected java.util.HashSet&lt;java.lang.String&gt; <B>DocIDBlacklist</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="FilesToProcess"><!-- --></A><H3>
FilesToProcess</H3>
<PRE>
protected java.util.ArrayList&lt;java.lang.String&gt; <B>FilesToProcess</B></PRE>
<DL>
<DD>The list of files to process.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="FileNumber"><!-- --></A><H3>
FileNumber</H3>
<PRE>
protected int <B>FileNumber</B></PRE>
<DL>
<DD>The index in the FilesToProcess of the currently processed file.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ThisDocID"><!-- --></A><H3>
ThisDocID</H3>
<PRE>
protected java.lang.String <B>ThisDocID</B></PRE>
<DL>
<DD>The string identifier of the current document.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="br"><!-- --></A><H3>
br</H3>
<PRE>
protected <A HREF="../../../org/terrier/utility/io/CountingInputStream.html" title="class in org.terrier.utility.io">CountingInputStream</A> <B>br</B></PRE>
<DL>
<DD>The inputstream used for reading data.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="SkipFile"><!-- --></A><H3>
SkipFile</H3>
<PRE>
protected boolean <B>SkipFile</B></PRE>
<DL>
<DD>A boolean which is true when a new file is open.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="start_docTag"><!-- --></A><H3>
start_docTag</H3>
<PRE>
protected char[] <B>start_docTag</B></PRE>
<DL>
<DD>The opening document tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="start_docTagLength"><!-- --></A><H3>
start_docTagLength</H3>
<PRE>
protected int <B>start_docTagLength</B></PRE>
<DL>
<DD>The length of the opening document tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="end_docTag"><!-- --></A><H3>
end_docTag</H3>
<PRE>
protected java.lang.String <B>end_docTag</B></PRE>
<DL>
<DD>The closing document tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="end_docTagLength"><!-- --></A><H3>
end_docTagLength</H3>
<PRE>
protected int <B>end_docTagLength</B></PRE>
<DL>
<DD>The length of the closing document tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="start_docnoTag"><!-- --></A><H3>
start_docnoTag</H3>
<PRE>
protected char[] <B>start_docnoTag</B></PRE>
<DL>
<DD>The opening document number tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="start_docnoTagLength"><!-- --></A><H3>
start_docnoTagLength</H3>
<PRE>
protected int <B>start_docnoTagLength</B></PRE>
<DL>
<DD>The length of the opening document number tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="end_docnoTag"><!-- --></A><H3>
end_docnoTag</H3>
<PRE>
protected char[] <B>end_docnoTag</B></PRE>
<DL>
<DD>The closing document number tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="end_docnoTagLength"><!-- --></A><H3>
end_docnoTagLength</H3>
<PRE>
protected int <B>end_docnoTagLength</B></PRE>
<DL>
<DD>The length of the closing document number tag.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="tags_CaseSensitive"><!-- --></A><H3>
tags_CaseSensitive</H3>
<PRE>
protected boolean <B>tags_CaseSensitive</B></PRE>
<DL>
<DD>Is the markup case-sensitive?
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ignoreProperties"><!-- --></A><H3>
ignoreProperties</H3>
<PRE>
protected boolean <B>ignoreProperties</B></PRE>
<DL>
<DD>Do we ignore properties?
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="docnotag"><!-- --></A><H3>
docnotag</H3>
<PRE>
protected java.lang.String <B>docnotag</B></PRE>
<DL>
<DD>The docno tag
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="propertyTagLengths"><!-- --></A><H3>
propertyTagLengths</H3>
<PRE>
protected int[] <B>propertyTagLengths</B></PRE>
<DL>
<DD>The length of each property tag
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="startPropertyTags"><!-- --></A><H3>
startPropertyTags</H3>
<PRE>
protected char[][] <B>startPropertyTags</B></PRE>
<DL>
<DD>The start property tags
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="endPropertyTags"><!-- --></A><H3>
endPropertyTags</H3>
<PRE>
protected char[][] <B>endPropertyTags</B></PRE>
<DL>
<DD>The end property tag
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="desiredEncoding"><!-- --></A><H3>
desiredEncoding</H3>
<PRE>
protected java.lang.String <B>desiredEncoding</B></PRE>
<DL>
<DD>Encoding to be used to open all files.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="documentClass"><!-- --></A><H3>
documentClass</H3>
<PRE>
protected java.lang.Class&lt;? extends <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A>&gt; <B>documentClass</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="tokeniser"><!-- --></A><H3>
tokeniser</H3>
<PRE>
protected <A HREF="../../../org/terrier/indexing/tokenisation/Tokeniser.html" title="class in org.terrier.indexing.tokenisation">Tokeniser</A> <B>tokeniser</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="endOfCollection"><!-- --></A><H3>
endOfCollection</H3>
<PRE>
protected boolean <B>endOfCollection</B></PRE>
<DL>
<DD>Indicates whether the end of the collection has been reached.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TRECCollection(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
TRECCollection</H3>
<PRE>
public <B>TRECCollection</B>(java.lang.String&nbsp;CollectionSpecFilename,
                      java.lang.String&nbsp;TagSet,
                      java.lang.String&nbsp;BlacklistSpecFilename,
                      java.lang.String&nbsp;ignored)</PRE>
<DL>
<DD>Specific constructor: reads the files listed in CollectionSpecFilename,
  the Blacklist of Document IDs in BlacklistSpecFilename, and stores document
  offsets and lengths in the document pointers file docPointersFilename. The collection
  will be parsed according to the TagSet specified by TagSet string
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>CollectionSpecFilename</CODE> - The collections specification filename. The file contains
  a list of filenames to read. Must be specified, fatal error otherwise.<DD><CODE>TagSet</CODE> - the TagSet constructor string to use to obtain the tags to parse for.<DD><CODE>BlacklistSpecFilename</CODE> - A filename to a file containing a list of document identifiers
  thay have NOT to be processed. Not loaded if null or length 0<DD><CODE>ignored</CODE> - no longer used</DL>
</DL>
<HR>

<A NAME="TRECCollection()"><!-- --></A><H3>
TRECCollection</H3>
<PRE>
public <B>TRECCollection</B>()</PRE>
<DL>
<DD>A default constructor that reads the collection specification
 file, as configured by the property <tt>collection.spec</tt>,
 reads a list of blacklisted document numbers, specified by the
 property <tt>trec.blacklist.docids</tt> and opens the
 first collection file to process. TagSet TagSet.TREC_DOC_TAGS is used to tokenize
 the collection.
<P>
</DL>
<HR>

<A NAME="TRECCollection(java.io.InputStream)"><!-- --></A><H3>
TRECCollection</H3>
<PRE>
public <B>TRECCollection</B>(java.io.InputStream&nbsp;input)</PRE>
<DL>
<DD>A constructor that reads only the document in the specificed
 InputStream. Also reads a list of blacklisted document numbers, specified by the
 property <tt>trec.blacklist.docids</tt> and opens the
 first collection file to process.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setTags(java.lang.String)"><!-- --></A><H3>
setTags</H3>
<PRE>
protected void <B>setTags</B>(java.lang.String&nbsp;TagSet)</PRE>
<DL>
<DD>protected method for initialising the
 opening and closing document and document number
 tags.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readCollectionSpec(java.lang.String)"><!-- --></A><H3>
readCollectionSpec</H3>
<PRE>
protected void <B>readCollectionSpec</B>(java.lang.String&nbsp;CollectionSpecFilename)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readDocumentBlacklist(java.lang.String)"><!-- --></A><H3>
readDocumentBlacklist</H3>
<PRE>
protected void <B>readDocumentBlacklist</B>(java.lang.String&nbsp;BlacklistSpecFilename)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loadDocumentClass()"><!-- --></A><H3>
loadDocumentClass</H3>
<PRE>
protected void <B>loadDocumentClass</B>()</PRE>
<DL>
<DD>Loads the class that will supply all documents for this Collection.
 Set by property <tt>trec.document.class</tt>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="hasNext()"><!-- --></A><H3>
hasNext</H3>
<PRE>
public boolean <B>hasNext</B>()</PRE>
<DL>
<DD>Check whether it is the end of the collection
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean</DL>
</DD>
</DL>
<HR>

<A NAME="next()"><!-- --></A><H3>
next</H3>
<PRE>
public <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A> <B>next</B>()</PRE>
<DL>
<DD>Return next document
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>next document</DL>
</DD>
</DL>
<HR>

<A NAME="remove()"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>()</PRE>
<DL>
<DD>This is unsupported by this Collection implementation, and
 any calls will throw UnsupportedOperationException
 Throws UnsupportedOperationException on all invocations
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="nextDocument()"><!-- --></A><H3>
nextDocument</H3>
<PRE>
public boolean <B>nextDocument</B>()</PRE>
<DL>
<DD>Moves to the next document to process from the collection.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Collection.html#nextDocument()">nextDocument</A></CODE> in interface <CODE><A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean true if there are more documents to process in the 
                 collection, otherwise it returns false.</DL>
</DD>
</DL>
<HR>

<A NAME="afterPropertyTags()"><!-- --></A><H3>
afterPropertyTags</H3>
<PRE>
protected void <B>afterPropertyTags</B>()
                          throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTag(int, char[], char[])"><!-- --></A><H3>
getTag</H3>
<PRE>
protected java.lang.StringBuilder <B>getTag</B>(int&nbsp;taglength,
                                         char[]&nbsp;startTag,
                                         char[]&nbsp;endTag)
                                  throws java.io.IOException</PRE>
<DL>
<DD>Scans through a document reading in the first occurrence of the specified tag,
 returning its contents as a StringBuilder object
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>taglength</CODE> - - the length of the start tag<DD><CODE>startTag</CODE> - - the start tag<DD><CODE>endTag</CODE> - - the end tag
<DT><B>Returns:</B><DD>- the tag contents
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDocument()"><!-- --></A><H3>
getDocument</H3>
<PRE>
public <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A> <B>getDocument</B>()</PRE>
<DL>
<DD>Returns the current document to process.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Collection.html#getDocument()">getDocument</A></CODE> in interface <CODE><A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Document the object of the current document to process.</DL>
</DD>
</DL>
<HR>

<A NAME="getDocument(org.terrier.utility.TagSet, org.terrier.utility.TagSet, org.terrier.utility.TagSet)"><!-- --></A><H3>
getDocument</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public <A HREF="../../../org/terrier/indexing/Document.html" title="interface in org.terrier.indexing">Document</A> <B>getDocument</B>(<A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_tags,
                                       <A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_exact,
                                       <A HREF="../../../org/terrier/utility/TagSet.html" title="class in org.terrier.utility">TagSet</A>&nbsp;_fields)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>A TREC-specific getDocument method, that allows the tags to be specified for
        each document.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Document the object of the current document to process.</DL>
</DD>
</DL>
<HR>

<A NAME="getDocid()"><!-- --></A><H3>
getDocid</H3>
<PRE>
public java.lang.String <B>getDocid</B>()</PRE>
<DL>
<DD>Returns the document number of the current document.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>String the document number of the current document.</DL>
</DD>
</DL>
<HR>

<A NAME="endOfCollection()"><!-- --></A><H3>
endOfCollection</H3>
<PRE>
public boolean <B>endOfCollection</B>()</PRE>
<DL>
<DD>Indicates whether the end of the collection has been reached.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Collection.html#endOfCollection()">endOfCollection</A></CODE> in interface <CODE><A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean true if there are no more documents to process in the
                 collection, otherwise it returns false.</DL>
</DD>
</DL>
<HR>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
public void <B>reset</B>()</PRE>
<DL>
<DD>Resets the collection object back to the beginning
 of the collection.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/Collection.html#reset()">reset</A></CODE> in interface <CODE><A HREF="../../../org/terrier/indexing/Collection.html" title="interface in org.terrier.indexing">Collection</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="openNextFile()"><!-- --></A><H3>
openNextFile</H3>
<PRE>
protected boolean <B>openNextFile</B>()
                        throws java.io.IOException</PRE>
<DL>
<DD>Opens the next document from the collection specification.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean true if the file was opened successufully. If there
                 are no more files to open, it returns false.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there is an exception while opening the 
                 collection files.</DL>
</DD>
</DL>
<HR>

<A NAME="getDocumentString(int)"><!-- --></A><H3>
getDocumentString</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public java.lang.String <B>getDocumentString</B>(int&nbsp;docid)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>Returns the text of a document with the given identifier.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/terrier/indexing/DocumentExtractor.html#getDocumentString(int)">getDocumentString</A></CODE> in interface <CODE><A HREF="../../../org/terrier/indexing/DocumentExtractor.html" title="interface in org.terrier.indexing">DocumentExtractor</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>docid</CODE> - the internal identifier of a document.
<DT><B>Returns:</B><DD>String the text of the document as a string.</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Closes the files and streams used by the collection object.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>close</CODE> in interface <CODE>java.io.Closeable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TRECCollection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/terrier/indexing/Tokenizer.html" title="interface in org.terrier.indexing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/terrier/indexing/TRECDocument.html" title="class in org.terrier.indexing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/terrier/indexing/TRECCollection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TRECCollection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href='http://terrier.org/'>Terrier</a> 3.5. Copyright &copy; 2004-2011 <a href='http://www.gla.ac.uk/'>University of Glasgow</a>
</BODY>
</HTML>
